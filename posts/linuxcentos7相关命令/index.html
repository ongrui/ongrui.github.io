<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>linux(Centos7)相关命令 持续更新... - 菜狗瑞的学习周记</title><meta name="Description" content="关于 LoveIt 主题"><meta property="og:title" content="linux(Centos7)相关命令 持续更新..." />
<meta property="og:description" content="开篇啰嗦 啥时候更新时间间隔超过三个月我就把持续更新去掉 话说作为一个测试，是不是应该先记录测试相关的 唉，在公司学的最多的就是linux 先写这个" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://testoai.github.io/posts/linuxcentos7%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/" /><meta property="og:image" content="https://testoai.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-10T00:00:00&#43;08:00" />
<meta property="article:modified_time" content="2021-04-10T00:00:00&#43;08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://testoai.github.io/logo.png"/>

<meta name="twitter:title" content="linux(Centos7)相关命令 持续更新..."/>
<meta name="twitter:description" content="开篇啰嗦 啥时候更新时间间隔超过三个月我就把持续更新去掉 话说作为一个测试，是不是应该先记录测试相关的 唉，在公司学的最多的就是linux 先写这个"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/img/001.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://testoai.github.io/posts/linuxcentos7%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/" /><link rel="prev" href="https://testoai.github.io/posts/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" /><link rel="next" href="https://testoai.github.io/posts/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "linux(Centos7)相关命令 持续更新...",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/testoai.github.io\/posts\/linuxcentos7%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4\/"
        },"genre": "posts","keywords": "linux","wordcount":  2261 ,
        "url": "https:\/\/testoai.github.io\/posts\/linuxcentos7%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4\/","datePublished": "2021-04-10T00:00:00+08:00","dateModified": "2021-04-10T00:00:00+08:00","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/testoai.github.io\/img\/logo.png"},"author": {
                "@type": "Person",
                "name": "作者"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="菜狗瑞的学习周记"><span class="header-title-pre"><a href="/posts/" title="菜狗瑞的学习周记">菜狗瑞的学习周记</a></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="请输入要搜索的关键字" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="菜狗瑞的学习周记"><span class="header-title-pre"><a href="/posts/" title="菜狗瑞的学习周记">菜狗瑞的学习周记</a></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="请输入要搜索的关键字" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container">

    <div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">linux(Centos7)相关命令 持续更新...</h1>

        <div class="post-meta">
            <div class="post-meta-line">
                
                
                <span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>作者</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/linux/"><i class="far fa-folder fa-fw"></i>linux</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-04-10">2021-04-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 2261 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 5 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#文件操作相关">文件操作相关</a>
      <ul>
        <li><a href="#文件拷贝-cp">文件拷贝 cp</a></li>
        <li><a href="#文件移动-mv">文件移动 mv</a></li>
        <li><a href="#文件查找">文件查找</a></li>
        <li><a href="#文件权限相关">文件权限相关</a></li>
      </ul>
    </li>
    <li><a href="#vim相关"><code>vim</code>相关</a>
      <ul>
        <li><a href="#进入编辑模式">进入编辑模式</a></li>
        <li><a href="#退出编辑模式">退出编辑模式</a></li>
        <li><a href="#查找">查找</a></li>
        <li><a href="#替换">替换</a></li>
        <li><a href="#退出">退出</a></li>
      </ul>
    </li>
    <li><a href="#查看日志">查看日志</a>
      <ul>
        <li><a href="#实时刷新查看日志">实时刷新查看日志</a></li>
        <li><a href="#查看日志前10行">查看日志前10行</a></li>
        <li><a href="#查看第10行到第20行">查看第10行到第20行</a></li>
      </ul>
    </li>
    <li><a href="#查看进程">查看进程</a>
      <ul>
        <li><a href="#ps命令">ps命令</a>
          <ul>
            <li><a href="#参数">参数</a></li>
            <li><a href="#筛选">筛选</a></li>
          </ul>
        </li>
        <li><a href="#根据进程查找文件">根据进程查找文件</a></li>
      </ul>
    </li>
    <li><a href="#查看端口号是否被监听">查看端口号是否被监听</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="开篇啰嗦">开篇啰嗦</h1>
<p>啥时候更新时间间隔超过三个月我就把持续更新去掉</p>
<p>话说作为一个测试，是不是应该先记录测试相关的</p>
<p>唉，在公司学的最多的就是linux</p>
<p>先写这个吧，明天再写一篇测试相关的</p>
<h2 id="文件操作相关">文件操作相关</h2>
<h3 id="文件拷贝-cp">文件拷贝 cp</h3>
<ul>
<li>拷贝文件：<code>cp 要拷贝的文件 目标路径</code></li>
<li>拷贝文件<code>redis.conf</code>到<code>/etc/</code>目录下</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# cp redis.conf /etc/
[root@rui redis-6.2.0]# ls /etc/redis.conf 
/etc/redis.conf
</code></pre></td></tr></table>
</div>
</div><ul>
<li>拷贝文件夹：<code>cp -r 要拷贝的文件夹 目标路径</code></li>
<li>拷贝文件夹<code>redis-6.2.0</code>到<code>/usr/local/</code>目录下</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui home]# cp -r redis-6.2.0/ /usr/local/
[root@rui home]# ls /usr/local/
bin  games    lib    libexec  redis-6.2.0  share
etc  include  lib64  proc     sbin         src
</code></pre></td></tr></table>
</div>
</div><h3 id="文件移动-mv">文件移动 mv</h3>
<ul>
<li>移动文件夹/文件：<code>mv 要移动的文件夹或者是文件 目标路径</code></li>
<li>移动文件<code>redis.conf</code>到<code>src</code>目录下</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# mv redis.conf src/
[root@rui redis-6.2.0]# ls src/redis.conf 
src/redis.conf
</code></pre></td></tr></table>
</div>
</div><h3 id="文件查找">文件查找</h3>
<ul>
<li>方式一：<code>find 要查找的路径 -name 要查找的文件</code></li>
<li><code>find</code>会遍历指定路径下的所有文件，然后返回符合条件的，支持模糊查询</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# find ./ -name redis.c*
./src/redis.conf
</code></pre></td></tr></table>
</div>
</div><ul>
<li>方式二：<code>locate 要查找的文件</code></li>
<li><code>locate</code> 在<code>/var/lib/mlocate/</code>目录下存放着一个数据库文件，其实使用<code>locate</code>查询是查询的数据库，所以<code>locate</code>非常快</li>
<li><code>locate</code>会返回所有包含文件名的文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# locate /home/redis-6.2.0/src/red
/home/redis-6.2.0/src/redis-benchmark
/home/redis-6.2.0/src/redis-benchmark.c
/home/redis-6.2.0/src/redis-benchmark.d
/home/redis-6.2.0/src/redis-benchmark.o
/home/redis-6.2.0/src/redis-check-aof
/home/redis-6.2.0/src/redis-check-aof.c
/home/redis-6.2.0/src/redis-check-aof.d
/home/redis-6.2.0/src/redis-check-aof.o
/home/redis-6.2.0/src/redis-check-rdb
/home/redis-6.2.0/src/redis-check-rdb.c
/home/redis-6.2.0/src/redis-check-rdb.d
/home/redis-6.2.0/src/redis-check-rdb.o
/home/redis-6.2.0/src/redis-cli
/home/redis-6.2.0/src/redis-cli.c
/home/redis-6.2.0/src/redis-cli.d
/home/redis-6.2.0/src/redis-cli.o
/home/redis-6.2.0/src/redis-sentinel
/home/redis-6.2.0/src/redis-server
/home/redis-6.2.0/src/redis-trib.rb
/home/redis-6.2.0/src/redis.conf
/home/redis-6.2.0/src/redisassert.h
/home/redis-6.2.0/src/redismodule.h
</code></pre></td></tr></table>
</div>
</div><p>然后新建一个文件，再查询一次</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# &gt; /home/redis-6.2.0/src/testfile
[root@rui redis-6.2.0]# locate /home/redis-6.2.0/src/testf
[root@rui redis-6.2.0]# ll /home/redis-6.2.0/src/testfile 
-rw-r--r--. 1 root root 0 Apr 10 22:37 /home/redis-6.2.0/src/testfile
</code></pre></td></tr></table>
</div>
</div><p>可以看到，没有查到，因为<code>locate</code>的数据库不是实时更新的，可以使用<code>updatedb</code>手动更新，也可以把更新命令配置到系统的任务计划表，定时执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-tex" data-lang="tex">[root@rui redis-6.2.0]# updatedb
[root@rui redis-6.2.0]# locate /home/redis-6.2.0/src/testf
/home/redis-6.2.0/src/testfile
</code></pre></td></tr></table>
</div>
</div><p>可以看到更新之后就查到了</p>
<p>2021-05-13：</p>
<h3 id="文件权限相关">文件权限相关</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">[root@rui nginx]# ll
total 12
drwx------ 2 root root    6 Mar  8 11:49 client_body_temp
drwxr-xr-x 2 root root 4096 May 10 11:39 conf
drwx------ 2 root root    6 Mar  8 11:49 fastcgi_temp
drwxr-xr-x 2 root root   38 Mar  8 10:50 html
drwxr-xr-x 2 root root   55 Mar 29 10:01 logs
-rw-r--r-- 1 root root 4796 May 11 20:14 nginx.conf
drwx------ 3 root root   14 Apr 29 10:04 proxy_temp
drwxr-xr-x 2 root root   18 Mar  8 10:50 sbin
drwx------ 2 root root    6 Mar  8 11:49 scgi_temp
drwx------ 2 root root    6 Mar  8 11:49 uwsgi_temp
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>total 12</p>
<p>linux的数据存储是以块（block）为单位的，块可以理解成一个容器，每个块的大小可以用<code>getconf PAGESIZE</code>命令查看</p>
<p>每个块的容量是4096B，也就是4K</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="nx">drwx</span><span class="o">------</span> <span class="mi">2</span> <span class="nx">root</span> <span class="nx">root</span>    <span class="mi">6</span> <span class="nx">Mar</span>  <span class="mi">8</span> <span class="mi">11</span><span class="p">:</span><span class="mi">49</span> <span class="nx">client_body_temp</span>
</code></pre></td></tr></table>
</div>
</div><p><code>drwx------</code></p>
<ul>
<li>
<p>d：表示文件夹，如果是-，则代表是文件</p>
</li>
<li>
<p>r：表示有可读权限，用数字表示为4</p>
</li>
<li>
<p>w：表示有可写权限，用数字表示为2</p>
</li>
<li>
<p>x：表示有可执行权限，用数字表示为1</p>
</li>
<li>
<p>rwx：文件权限</p>
<ul>
<li>
<p>一个rwx可以理解为为一组权限，一个文件有三组，第一组为文件所属用户，第二组为所属用户组内的其他用户，第三组为其他用户</p>
</li>
<li>
<p>如果显示为&quot;-&ldquo;符号则表示没有权限</p>
</li>
<li>
<p>设置权限可以使用<code>chmod</code></p>
</li>
</ul>
<p><code>chmod 741 filename</code></p>
<ul>
<li>741：
<ul>
<li>文件所属用户有该文件的可读、可写、可执行权限</li>
<li>文件所属用户组内的其它用户有该文件的可读权限</li>
<li>其他用户有该文件的可执行权限</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>drwx------ 2 root root 6 Mar  8 11:49 client_body_temp</code></p>
<ul>
<li>2：硬连接个数</li>
<li>第一个root：文件所属用户</li>
<li>第二个root：文件所属用户的组</li>
<li>6：文件大小</li>
<li>Mar  8 11:49：最后修改时间</li>
<li>client_body_temp：文件名/目录名</li>
</ul>
<h2 id="vim相关"><code>vim</code>相关</h2>
<h3 id="进入编辑模式">进入编辑模式</h3>
<ul>
<li>按<code>i</code>进入编辑模式后光标会在当前位置</li>
<li>按<code>I</code>进入编辑模式后光标会在当前行行首</li>
<li>按<code>a</code>进入编辑模式后，光标在当前字符后</li>
<li>按<code>A</code>进入编辑模式后，光标会在当前行行尾</li>
<li>按<code>o</code>进入编辑模式后，会在当前行下一行新开一行</li>
<li>按<code>O</code>进入编辑模式后，会在当前行上一行新开一行</li>
</ul>
<p><code>我用的最多的是i</code></p>
<h3 id="退出编辑模式">退出编辑模式</h3>
<ul>
<li>按<code>ESC</code>退出编辑模式</li>
</ul>
<h3 id="查找">查找</h3>
<ul>
<li>使用：<code>/要查找的内容</code></li>
<li>使用<code>vim /文件名</code>打开文件后，输入<code>/</code>要查找的内容即可，比如下面我要在<code>redis.conf</code>配置文件中查找<code>bind</code>关键字</li>
</ul>
<a class="lightgallery" href="/img/image-20210410145934938.png" title="/img/image-20210410145934938.png" data-thumbnail="/img/image-20210410145934938.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/image-20210410145934938.png"
            data-srcset="/img/image-20210410145934938.png, /img/image-20210410145934938.png 1.5x, /img/image-20210410145934938.png 2x"
            data-sizes="auto"
            alt="/img/image-20210410145934938.png" />
    </a>
<ul>
<li>
<p>然后可以输入回车，会查找到该文件中第一个<code>bind</code>，可以输入<code>n</code>定位到下一个，输入<code>N</code>定位到上一个</p>
</li>
<li>
<p>取消高亮可以输入<code>nohlsearch</code>，简写为<code>noh</code>，也可以输入<code>set nohlsearch</code> ，简写为<code>set noh</code></p>
</li>
</ul>
<h3 id="替换">替换</h3>
<ul>
<li>
<p>把文件中的所有<code>127.0.0.1</code>替换为<code>120.5.5.153</code></p>
<ul>
<li>使用：<code>:%s/127.0.0.1/120.5.5.153/g</code></li>
</ul>
</li>
<li>
<p>把当前行的<code>127.0.0.1</code>替换为<code>120.5.5.153</code></p>
<ul>
<li>使用：<code>:S/127.0.0.1/120.5.5.153/g</code></li>
</ul>
</li>
</ul>
<p><code>还有很多替换相关的命令，这里只是写了常用的</code></p>
<h3 id="退出">退出</h3>
<ul>
<li>退出不保存<code>:q</code></li>
<li>强制退出不保存<code>:q!</code></li>
<li>保存并退出<code>:wq</code></li>
<li>强制保存并退出<code>:wq!</code></li>
</ul>
<h2 id="查看日志">查看日志</h2>
<h3 id="实时刷新查看日志">实时刷新查看日志</h3>
<ul>
<li>方式一：使用：<code>tail -f -n 10 日志文件名称</code>
<ul>
<li><code>-f</code>：实时刷新</li>
<li><code>-n</code>：行数关键字，后面跟行数，表示从后10行开始查看</li>
</ul>
</li>
<li>方式二：使用：<code>tailf 日志文件名称</code>
<ul>
<li>默认从后十行开始查看</li>
</ul>
</li>
</ul>
<h3 id="查看日志前10行">查看日志前10行</h3>
<ul>
<li>使用：<code>head -n 行数 日志文件名称</code>
<ul>
<li><code>-n</code> ：行数关键字</li>
</ul>
</li>
</ul>
<h3 id="查看第10行到第20行">查看第10行到第20行</h3>
<ul>
<li>方式一：使用：<code>sed -n '10,20p' 日志文件名称</code>
<ul>
<li><code>-n</code>：打印制定行</li>
<li><code>'10,20p'</code>：指定的行号</li>
</ul>
</li>
<li>方式二：使用：<code>cat -n 日志文件名称 | head -n 20 | tail -n +10</code>
<ul>
<li><code>cat -n</code>：打印日志显示行号</li>
<li><code>head -n 20</code>：打印到20行</li>
<li><code>tail -n +10</code>：从第10行开始打印</li>
</ul>
</li>
</ul>
<p>2021.04.20</p>
<h2 id="查看进程">查看进程</h2>
<h3 id="ps命令">ps命令</h3>
<p>ps （英文全拼：process status）命令用于显示当前进程的状态 &ndash;摘自菜鸟教程</p>
<h4 id="参数">参数</h4>
<ul>
<li>-a：列出所有进程</li>
<li>-w：显示加宽，可以显示更多内容</li>
<li>-u：以用户为主的进程状态</li>
<li>-x：显示当前用户在所有终端下的进程信息，通常和参数<code>a</code>一起使用</li>
<li>-e：显示系统内所有的进程信息</li>
<li>-l：使用长格式显示进程信息</li>
<li>-f：使用完整的格式显示进程信息</li>
</ul>
<h4 id="筛选">筛选</h4>
<ul>
<li>在输入了上面命令后添加<code>|grep processName/processID</code></li>
<li><code>ps -aux |grep mysql</code></li>
</ul>
<h3 id="根据进程查找文件">根据进程查找文件</h3>
<ul>
<li>
<p>当因为某种原因找不到服务的存放位置时，可以使用上面的命令先查看进程的ID</p>
</li>
<li>
<p>然后使用命令：<code>pwdx processID</code>命令查找该进程文件存放的位置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@rabbitmq1 redis<span class="o">]</span><span class="c1"># ps -aux |grep redis</span>
redis     <span class="m">4356</span>  0.1  2.3 <span class="m">323184</span> <span class="m">133272</span> ?       Ssl  4月19  25:12 /usr/bin/redis-server *:6379
root      <span class="m">7194</span>  0.0  0.0 <span class="m">112736</span>   <span class="m">996</span> pts/1    S+   11:23   0:00 grep --color<span class="o">=</span>auto redis
<span class="o">[</span>root@rabbitmq1 redis<span class="o">]</span><span class="c1"># pwdx 4356</span>
4356: /var/lib/redis
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="查看端口号是否被监听">查看端口号是否被监听</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>root@pacs local<span class="o">]</span><span class="c1"># ss -tunlp |grep 3306</span>
tcp    LISTEN     <span class="m">0</span>      <span class="m">128</span>       *:3306      *:*    users:<span class="o">((</span><span class="s2">&#34;docker-proxy&#34;</span>,pid<span class="o">=</span>28320,fd<span class="o">=</span>4<span class="o">))</span>
</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2021-04-10</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">linux</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" class="prev" rel="prev" title="第一篇文章"><i class="fas fa-angle-left fa-fw"></i>第一篇文章</a>
            <a href="/posts/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" class="next" rel="next" title="接口测试小工具">接口测试小工具<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span>&nbsp;|&nbsp;<span class="license">菜狗瑞的学习周记</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":100},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"ongrui/blogComment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
