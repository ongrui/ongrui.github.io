# docker


## 什么是Docker

docker是一款轻量级的虚拟化工具，它会提供一个虚拟环境，名为容器。

容器需要运行镜像来生成。

镜像需要使用Dockerfile来创建，dockerfile需要指定基础镜像、运行镜像需要执行的命令、

需要监听的端口，启动时执行的脚本文件等

在linux中，通过命名空间与物理机的进程、网络、文件系统、CPU内存等资源的隔离。

容器可以打包成镜像后移动到另一个物理机器中，然后运行该镜像即可生成一个容器。

这样就完成了容器的移植。

***--- 下面内容摘自docker官网***

将软件打包到标准化单元进行开发、装运和部署

容器是软件的标准单元，可将代码及其所有依赖项打包，以便应用程序从一个计算环境快速可靠地运行到另一个计算环境。Docker 容器镜像是一个轻量级、独立、可执行的软件包，包括运行应用程序所需的一切：代码、运行时间、系统工具、系统库和设置。

容器镜像在运行时变成容器，在码头集装箱的情况下 - 图像成为容器时，他们运行在docker引擎。针对 Linux 和 Windows 的应用程序，无论基础设施如何，容器化软件始终运行相同。容器将软件与环境隔离开来，并确保它工作一致，尽管开发和分期之间存在差异。

在码头发动机上运行的码头集装箱：

- **标准：**Docker 为容器创建了行业标准，因此它们可以在任何地方随地运输
- **重量轻：**容器共享机器的操作系统内核，因此不需要每个应用程序的操作系统，从而提高服务器效率并降低服务器和许可成本
- **安全：**在容器中应用更安全，Docker 提供业内最强的默认隔离功能

## 常用命令

- 列出所有镜像

```
docker images
```

- 运行镜像

```
docker run
	-it ... /bin/bash以交互模式运行
	--name 运行镜像后生成的容器名称
	-p 8080:8081 将容器中的8081端口映射到本机的8080端口
	-v /home/data:/data 将容器中的/data目录映射到本地的/home/data目录
```

- 列出所有容器

```
docker ps -a
```

- 列出正在运行的容器

```
docker ps
```

- 启动容器

```
docker start 容器id/容器名称
```

- 停止容器

```
docker stop 容器id/容器名称
```

- 重启容器

```
docker restart 容器id/容器名称
```

- 进入容器

```
docker exec -it 容器id/容器名称 bash
```

- 容器和物理机相互拷贝文件

  - 将容器内/usr/local/redis/conf/redis.conf拷贝到物理机的当前目录\

    ```
    docker cp 容器id/名称:/usr/local/redis/conf/redis.conf ./
    ```

  - 将物理机当前目录下的redis.conf文件拷贝到容器内的/etc目录下

    ```
    docker cp ./redis.conf 容器id/名称:/etc/
    ```

- 删除容器（只能删除停止的容器）

```
docker rm 容器id/容器名称
```

- 删除镜像

```
docker rmi imageId
```

## Dockerfile
















